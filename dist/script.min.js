(()=>{if(!window.FLK)window.FLK={},console.log("Loaded FLK");else{console.log("Reloaded FLK"),clearInterval(FLK.animationID);let t=document.querySelectorAll("[flk-init]");for(let e=0;e<t.length;e++)t[e].removeAttribute("flk-init")}window.FLK={};FLK.lastTime=0;FLK.z=99;FLK.canvasEditor=null;FLK.mosaicEditor=null;FLK.mosaicRoot=document.querySelector("#root");function f(t){t=t||window.event,FLK.x=t.clientX,FLK.y=t.clientY}FLK.mosaicRoot.addEventListener("mousemove",f);FLK.loop=t=>{FLK.mosaics=document.querySelectorAll(".mosaic-tile");let e=document.querySelectorAll(".mosaic-split");for(let o=0;o<e.length;o++)e[o].setAttribute("style","display:hidden");if(FLK.mosaics)for(let o=0;o<FLK.mosaics.length;o++){let i=FLK.mosaics[o],u=i.querySelector("canvas");if(u){FLK.canvasEditor=u,FLK.mosaicEditor=i;let n=i.getAttribute("style");n=`
      inset:0;
      width:100%;
      height:100%;
      `,i.setAttribute("style",n)}else{let n=i.getAttribute("style");n=`
      position: fixed;
      inset:0;
      width:250px;
      height:350px;
      `;let r=i.querySelector(".draggable");if(r)if(!r.hasAttribute("flk-init"))console.log("flk-init","true"),r.setAttribute("flk-init","true"),FLK.dragElement(i,r);else{let m=i.getAttribute("data-x"),l=i.getAttribute("data-y"),s=i.getAttribute("data-z")||100;n+=`top: ${l}px;left: ${m}px; z-index: ${s};`}i.setAttribute("style",n)}}};FLK.dragElement=(t,e)=>{e.onmousedown=m,e.onmousemove=n,e.onmouseup=r;let o=t.querySelector(".mosaic-window");o.onmousemove=n;let i,u;function n(l){if(l=l||window.event,l.preventDefault(),e.hasAttribute("data-active")){let s=FLK.x-i,L=FLK.y-u;t.setAttribute("data-x",s),t.setAttribute("data-y",L);let c=t.getAttribute("style");c=c.split(";");let d={};for(let a=0;a<c.length;a++){let F=c[a].split(":");F.length>1&&(d[F[0].trim()]=F[1].trim())}d.top=L+"px",d.left=s+"px";let K="";for(let a in d)K+=`${a}:${d[a]};`;t.setAttribute("style",K)}}function r(l){e.removeAttribute("data-active")}function m(l){l=l||window.event,l.preventDefault(),e.setAttribute("data-active","true"),t.setAttribute("data-z",FLK.z++);let s=e.getBoundingClientRect();i=FLK.x-s.left,u=FLK.y-s.top}};FLK.animate=t=>{let e=t-FLK.lastTime;FLK.lastTime=t,FLK.loop(e),requestAnimationFrame(FLK.animate)};FLK.animationID=requestAnimationFrame(FLK.animate);})();
//# sourceMappingURL=script.min.js.map
